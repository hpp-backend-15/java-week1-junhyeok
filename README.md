# 항해+ 1주차 과제 - TDD로 개발하기 (서준혁)
### `Default`

- `/point` 패키지 (디렉토리) 내에 `PointService` 기본 기능 작성
- `/database` 패키지의 구현체는 수정하지 않고, 이를 활용해 기능을 구현
- 각 기능에 대한 단위 테스트 작성

> 총 4가지 기본 기능 (포인트 조회, 포인트 충전/사용 내역 조회, 충전, 사용) 을 구현합니다.
> 

### `Step 1`

- 포인트 충전, 사용에 대한 정책 추가 (잔고 부족, 최대 잔고 등)
    - 동시에 여러 요청이 들어오더라도 순서대로 (혹은 한번에 하나의 요청씩만) 제어될 수 있도록 리팩토링
- 동시성 제어에 대한 통합 테스트 작성
    
    

### `Step 2`

- 동시성 제어 방식에 대한 분석 및 보고서 작성 ( **README.md** )

# 동시성 제어 방식에 대한 분석 및 보고서
동시성 제어를 위해 synchronized 키워드 사용과 ReentrantLock 사용을 고민했다.
### synchronized
간단하게 특정 블록, 메소드 단위로 락을 거는 것이 가능하다.
다만, 자원을 공유하지 않는 경우에도 락을 걸기 때문에 성능이 저하된다
### ReentrantLock
락을 걸면서 Fairness 옵션을 사용하여 락을 획득하는 순서를 제어할 수 있다.
ConcurrentHashMap을 사용하여 userId 별로 Lock을 관리하여 자원을 공유하는 경우만 락이 걸리도록 구현했다.
